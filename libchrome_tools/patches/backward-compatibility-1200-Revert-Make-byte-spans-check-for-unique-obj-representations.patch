From 9930b6f3d41532872c17e4f5a04c5bb706486ab5 Mon Sep 17 00:00:00 2001
From: Cici Ruan <cuicuiruan@google.com>
Date: Wed, 18 Dec 2024 19:20:59 -0800
Subject: [PATCH] Revert partial changes in span.h

This CL reverts partial change in 1cad1f595be5c681571b407e05a28673f4760b46.

Change-Id: I8a71dc51ea9af60f82b36459e21d4b967d8fadae
---
 base/containers/span.h | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/base/containers/span.h b/base/containers/span.h
index d2fdc81dd3..df23862bf6 100644
--- a/base/containers/span.h
+++ b/base/containers/span.h
@@ -1391,7 +1391,6 @@ span(R&&) -> span<std::remove_reference_t<std::ranges::range_reference_t<R>>,
 
 // [span.objectrep]: Views of object representation
 template <typename ElementType, size_t Extent, typename InternalPtrType>
-  requires(internal::CanSafelyConvertToByteSpan<ElementType>)
 constexpr auto as_bytes(span<ElementType, Extent, InternalPtrType> s) {
   return internal::as_byte_span<const uint8_t>(s);
 }
@@ -1432,8 +1431,7 @@ constexpr auto as_chars(allow_nonunique_obj_t,
   return internal::as_byte_span<const char>(s);
 }
 template <typename ElementType, size_t Extent, typename InternalPtrType>
-  requires(internal::CanSafelyConvertToByteSpan<ElementType> &&
-           !std::is_const_v<ElementType>)
+  requires(!std::is_const_v<ElementType>)
 constexpr auto as_writable_chars(span<ElementType, Extent, InternalPtrType> s) {
   return internal::as_byte_span<char>(s);
 }
-- 
2.47.1.613.gc27f4b7a9f-goog

